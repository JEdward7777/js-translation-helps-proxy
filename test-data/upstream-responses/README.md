# Upstream Response Reference Files

This directory contains real responses from the upstream Translation Helps API, captured for testing and validation purposes.

**Note**: This directory is automatically generated by running `npx tsx scripts/fetch-upstream-responses.ts`.
The script dynamically discovers all available tools from upstream and generates appropriate test parameters.

## Files

- `get_system_prompt.json` - Response for get_system_prompt
- `fetch_scripture.json` - Response for fetch_scripture
- `fetch_translation_notes.json` - Response for fetch_translation_notes
- `get_languages.json` - Response for get_languages
- `fetch_translation_questions.json` - Response for fetch_translation_questions
- `browse_translation_words.json` - Response for browse_translation_words
- `get_context.json` - Response for get_context
- `extract_references.json` - Response for extract_references
- `fetch_resources.json` - Response for fetch_resources
- `get_words_for_reference.json` - Response for get_words_for_reference
- `search_biblical_resources.json` - Response for search_biblical_resources

## Purpose

These files serve as:
1. **Ground truth** for actual upstream response formats
2. **Test fixtures** for unit and integration tests
3. **Documentation** of API behavior
4. **Change detection** - can diff when upstream API updates

## Updating

To refresh these files with current upstream responses:

```bash
npx tsx scripts/fetch-upstream-responses.ts
```

The script will:
1. Dynamically discover all available tools from upstream
2. Generate appropriate test parameters based on tool schemas
3. Fetch responses for each tool
4. Save responses as JSON files

## Parameter Mapping

Test parameters are automatically generated using the mapping defined in `PARAM_VALUE_MAP`:
- `reference`: `"John 3:16"`
- `language`: `"en"`
- `organization`: `"unfoldingWord"`
- `wordId`: `"believe"`
- `limit`: `10`
- `text`: `"See John 3:16 and Romans 8:28"`
- `includeContext`: `true`
- `query`: `"love"`
- `category`: `"kt"`
- `search`: `"believe"`
- `includeImplementationDetails`: `false`

## File Format

Each file contains:
- `tool` - The tool name
- `timestamp` - When the response was captured
- `request` - The parameters used
- `response` - The actual upstream response

## Last Updated

2025-11-25T20:56:30.363Z

## Results

- ✓ get_system_prompt
- ✓ fetch_scripture
- ✓ fetch_translation_notes
- ✓ get_languages
- ✓ fetch_translation_questions
- ✓ browse_translation_words
- ✓ get_context
- ✓ extract_references
- ✓ fetch_resources
- ✓ get_words_for_reference
- ✓ search_biblical_resources

## Tool Schemas

Total tools discovered: 11

### get_system_prompt

Get the complete system prompt and constraints for full transparency about AI behavior

**Required parameters**: none
**Optional parameters**: includeImplementationDetails

### fetch_scripture

Fetch Bible scripture text for a specific reference. Supports optional search parameter to filter results.

**Required parameters**: reference
**Optional parameters**: language, organization, search

### fetch_translation_notes

Fetch translation notes for a specific Bible reference. Supports optional search parameter to filter results.

**Required parameters**: reference
**Optional parameters**: language, organization, search

### get_languages

Get available languages for translation resources

**Required parameters**: none
**Optional parameters**: none

### fetch_translation_questions

Fetch translation questions for a specific Bible reference. Supports optional search parameter to filter results.

**Required parameters**: reference
**Optional parameters**: language, organization, search

### browse_translation_words

Browse and search translation words by category or term

**Required parameters**: none
**Optional parameters**: language, organization, category, search, limit

### get_context

Get contextual information for a Bible reference

**Required parameters**: reference
**Optional parameters**: language, organization

### extract_references

Extract and parse Bible references from text

**Required parameters**: text
**Optional parameters**: includeContext

### fetch_resources

Fetch multiple types of translation resources for a reference

**Required parameters**: reference
**Optional parameters**: language, organization, resources

### get_words_for_reference

Get translation words specifically linked to a Bible reference

**Required parameters**: reference
**Optional parameters**: language, organization

### search_biblical_resources

Search biblical translation resources (scripture, notes, questions, words) using BM25 scoring algorithm

**Required parameters**: query
**Optional parameters**: language, organization, reference, limit, includeHelps
